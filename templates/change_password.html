{% extends "base.html" %}
{% block content %}
  <div class="top-actions" style="justify-content: flex-start; gap: 8px;">
    <a class="ghost" href="{{ url_for('home') }}">返回主菜单</a>
    <a class="ghost" href="{{ url_for('logout') }}">退出登录</a>
  </div>

  <h1>修改密码</h1>
  <p>当前用户：{{ username }}</p>

  {% if message %}
    <div class="error">{{ message }}</div>
  {% endif %}

  <form method="post" action="{{ url_for('change_password') }}">
    <div class="field">
      <label for="old_password">旧密码</label>
      <div class="password-wrap">
        <input id="old_password" name="old_password" type="password" required />
        <button class="toggle-password" type="button" data-toggle-password="old_password">显示</button>
      </div>
    </div>
    <div class="field">
      <label for="new_password">新密码</label>
      <div class="password-wrap">
        <input id="new_password" name="new_password" type="password" required />
        <button class="toggle-password" type="button" data-toggle-password="new_password">显示</button>
      </div>
    </div>
    <div class="field">
      <label for="confirm_password">确认新密码</label>
      <div class="password-wrap">
        <input id="confirm_password" name="confirm_password" type="password" required />
        <button class="toggle-password" type="button" data-toggle-password="confirm_password">显示</button>
      </div>
    </div>
    <button class="btn" type="submit">保存新密码</button>
  </form>
{% endblock %}
